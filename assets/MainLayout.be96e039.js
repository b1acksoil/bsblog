import{d as f,r as b,w as C,o as r,c as p,a as h,F as _,b as w,e as m,n as k,f as B,g as V,v as z,u as E,i as L,h as S,j as v,k as y,l as D,t as I,m as F,p as N,q as M,T as U,s as j}from"./index.b9248720.js";import{U as g}from"./Button.686f6005.js";import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";const O={class:"sidebar-buttons-top"},W={class:"sidebar-buttons-bottom"},A=f({__name:"Sidebar",props:{open:{type:Boolean}},setup(x){const s=x,o=b(!1);C(s,e=>o.value=e.open);const a={top:[{name:"\u4E3B\u9875",to:"/home",icon:"home"},{name:"\u6587\u7AE0",to:"/articles",icon:"book"},{name:"\u5173\u4E8E",to:"/about",icon:"heart"}],bottom:[{name:"\u8BBE\u7F6E",to:"/settings",icon:"gear"}]};return(e,t)=>(r(),p("div",{id:"sidebar",class:k({"sidebar-open":o.value})},[h("div",O,[(r(!0),p(_,null,w(a.top,i=>(r(),m(g,{name:i.name,to:i.to,icon:i.icon,onClick:t[0]||(t[0]=c=>o.value=!1),nav:""},null,8,["name","to","icon"]))),256))]),h("div",W,[(r(!0),p(_,null,w(a.bottom,i=>(r(),m(g,{name:i.name,to:i.to,icon:i.icon,onClick:t[1]||(t[1]=c=>o.value=!1),nav:""},null,8,["name","to","icon"]))),256))])],2))}});const T={class:"input-box"},q=["placeholder","type","step","min","max"],R=f({__name:"Input",props:["modelValue","placeholder","type","step","min","max"],emits:["update:modelValue","focus","blur"],setup(x,{emit:s}){const o=x,a=B({get(){return o.modelValue},set(e){s("update:modelValue",e)}});return(e,t)=>(r(),p("div",T,[V(h("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>L(a)?a.value=i:null),placeholder:e.$props.placeholder,type:e.$props.type,step:e.$props.step,min:e.$props.min,max:e.$props.max,onFocus:t[1]||(t[1]=i=>e.$emit("focus")),onBlur:t[2]||(t[2]=i=>e.$emit("blur"))},null,40,q),[[z,E(a)]])]))}});var Y=$(R,[["__scopeId","data-v-55f3faf1"]]);const G={class:"searchbox"},H={key:0},J=f({__name:"SearchBox",setup(x){const s=b(""),o=b([]),a=b(null),e=b(!1),t=S("assetsIndex");function i(){const c=[];if(s.value!==""){e.value=!0;const d=s.value.trim().split(" ");for(let n of d)if(n!==""){if(n.startsWith("#")){const l=n.substring(1).toLowerCase();if(l==="")continue;c.push(...t.value.articles.filter(u=>u.tags.includes(l)));continue}if(n.startsWith("$")){const l=n.substring(1).toLowerCase();if(l==="")continue;c.push(...t.value.articles.filter(u=>u.categories.includes(l)));continue}c.push(...t.value.articles.filter(l=>l.id.includes(n.toLowerCase())||l.title.toLowerCase().includes(n.toLowerCase())))}o.value=[...new Set(c)].filter(n=>{let l=!0;for(let u of d)u.startsWith("#")||u.startsWith("$")||!n.id.includes(u.toLowerCase())&&!n.title.toLowerCase().includes(u.toLowerCase())&&(l=!1);return l})}else e.value=!1}return(c,d)=>(r(),p("div",G,[v(Y,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=n=>s.value=n),onBlur:d[1]||(d[1]=n=>e.value=!1),onInput:d[2]||(d[2]=n=>i()),placeholder:"\u641C\u7D22\u6587\u7AE0...\u2003(#\u6807\u7B7E \u641C\u7D22\u6807\u7B7E\uFF0C$\u5206\u7C7B \u641C\u7D22\u5206\u7C7B)"},null,8,["modelValue"]),h("div",{class:k(["searchbox-list",{"searchbox-list-open":e.value,"searchbox-list-hasitem":o.value.length>0}]),ref_key:"searchbox",ref:a,style:N({height:e.value?o.value.length>0?o.value.length*44-4+"px":"48px":0})},[(r(!0),p(_,null,w(o.value,n=>(r(),m(g,{onClick:d[3]||(d[3]=l=>{var u;return(u=a.value)==null?void 0:u.focus()}),to:`/articles/${n.id}`},{default:y(()=>[D(I(n.title),1)]),_:2},1032,["to"]))),256)),e.value&&o.value.length===0&&s.value!==""?(r(),p("p",H," \u641C\u7D22\u65E0\u7ED3\u679C\u3002 ")):F("",!0)],6)]))}});const K={id:"nav-bar"},P=f({__name:"Navbar",setup(x){const s=b(!1);function o(a){return s.value=a,s.value}return(a,e)=>(r(),p("div",K,[v(g,{class:"sidebar-btn",icon:"bars",onMousedown:e[0]||(e[0]=t=>a.$emit("sidebar-open",o(!s.value))),onBlur:e[1]||(e[1]=t=>a.$emit("sidebar-open",o(!1)))}),v(J)]))}});var Q=$(P,[["__scopeId","data-v-6f8ee68c"]]);const X={id:"main-layout"},Z={id:"page-content"},ee=f({__name:"MainLayout",setup(x){const s=b(!1);return(o,a)=>{const e=M("router-view");return r(),p("div",X,[v(Q,{onSidebarOpen:a[0]||(a[0]=t=>{s.value=t})}),v(A,{open:s.value},null,8,["open"]),h("div",Z,[v(e,null,{default:y(({Component:t,route:i})=>[v(U,{name:"slide-fade",mode:"out-in"},{default:y(()=>[(r(),m(j(t)))]),_:2},1024)]),_:1})])])}}});var ne=$(ee,[["__scopeId","data-v-6768ba5c"]]);export{ne as default};
